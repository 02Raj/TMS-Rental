


<section class="content">
    <div class="component-header">
        <h4 class="c-h4">
            Service Request
        </h4>
        <button class="component-header-button" >
            <div class="d-flex">
                <i class="material-icons">add</i>
                <span class="icon-name">Create New Service</span>
                </div>
            
        </button>
    </div>

      
    <div class="content-block">
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="card">
                    <div style="border-bottom: 1px solid #e0e0e0;">
                        <div class="header">
                            <h2> All Request</h2>
                        </div>
                        <div class="filter-div">
                            <div class="search-bar col-4" >
                                <i class="material-icons search-icon">search</i>
                                <input class="search-input" type="search" placeholder="Search" >
                                </div>
                        </div>
                    </div>

                    <div class="body table-responsive custom-scrollbar">
                        
                        <table mat-table [dataSource]="dataSource3" class="w-100">

                            <!-- No Column -->
                            <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef class="text-nowrap"> Request Id </th>
                            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                            </ng-container>

                            <!-- Name Column -->
                            <ng-container matColumnDef="equipment">
                            <th mat-header-cell *matHeaderCellDef> Equipment Name </th>
                            <td mat-cell *matCellDef="let element"> {{element.equipment}} 
                                <br>
                                <small class="text-muted"> Created on {{ element.created }}</small>             
                            </td>
                            </ng-container>

                            <!-- Gender Column -->
                            <ng-container matColumnDef="customer">
                            <th mat-header-cell *matHeaderCellDef> Customer </th>
                            <td mat-cell *matCellDef="let element"> {{element.customer}} 
                                <br>
                                <small class="text-muted">{{ element.phone }}</small>     
                            </td>
                            </ng-container>

                            <!-- Email Column -->
                            <ng-container matColumnDef="operator">
                            <th mat-header-cell *matHeaderCellDef class="text-nowrap"> Operator Assigned </th>
                            <td mat-cell *matCellDef="let element"> {{element.operator}} </td>
                            </ng-container>

                            <!-- Address Column -->
                            <ng-container matColumnDef="approvedBy">
                            <th mat-header-cell *matHeaderCellDef> Approved By </th>
                            <td mat-cell *matCellDef="let element"> {{element.approvedBy}} </td>
                            </ng-container>

                            <!-- Mobile Column -->
                            <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef> Status </th>
                            <td mat-cell *matCellDef="let element">
                                <div class="status-container">{{element.status}} </div>  
                            </td>
                            </ng-container>

                            <!-- Salary Column -->
                            <ng-container matColumnDef="priority">
                            <th mat-header-cell *matHeaderCellDef> Priority </th>
                            <td mat-cell *matCellDef="let element"> 
                                <div class="priority-container">
                                    <img *ngIf="element.priority === 'High'; else lowIcon"src="assets/images/tms-icon/high.svg" width="20" height="20" alt="High"/>
                                    <ng-template #lowIcon>
                                    <img src="assets/images/tms-icon/low.svg" width="20" height="20" alt="Low" />
                                    </ng-template>
                                    <span>{{ element.priority }}</span>
                                </div>    
                            </td>
                            </ng-container>

                            <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> Action </th>
                            <td mat-cell *matCellDef="let element"> 
                                <div class="actions-container">
                                    <div class="action-icon eye" (click)="viewRow(element)">
                                        <img src="assets/images/tms-icon/eye.svg" alt="View" width="20" height="20" />
                                    </div>

                                    <div class="action-icon edit" (click)="editRow(element)">
                                        <img src="assets/images/tms-icon/edit.svg" alt="Edit" width="20" height="20"/>
                                    </div>

                                    <div class="action-icon delete" (click)="deleteRow(element)">
                                        <img src="assets/images/tms-icon/delete.svg" alt="Delete" width="20" height="20" />
                                    </div>
                                </div>
                            </td>
                            </ng-container>

                        
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>
